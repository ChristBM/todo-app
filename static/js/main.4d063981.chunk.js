(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(1),a=n(6),c=n.n(a),r=(n(14),n(8)),s=n(2);function i(){var e=function(e,t){var n=Object(o.useState)(!0),a=Object(s.a)(n,2),c=a[0],r=a[1],i=Object(o.useState)(!0),d=Object(s.a)(i,2),l=d[0],u=d[1],j=Object(o.useState)(!1),b=Object(s.a)(j,2),h=b[0],m=b[1],O=Object(o.useState)(t),x=Object(s.a)(O,2),f=x[0],_=x[1];return Object(o.useEffect)((function(){setTimeout((function(){try{var n,o=localStorage.getItem(e);o?n=JSON.parse(o):(localStorage.setItem(e,JSON.stringify(t)),n=[]),_(n),u(!1),r(!0)}catch(h){m(h)}}),1e3)}),[c]),{item:f,saveItem:function(t){try{var n=JSON.stringify(t);localStorage.setItem(e,n),_(t)}catch(h){m(h)}},loading:l,error:h,reload:c,sincronize:function(){u(!0),r(!1)}}}("TODOs_V1",[]),t=e.item,n=e.saveItem,a=e.loading,c=e.error,i=e.reload,d=e.sincronize,l=Object(o.useState)(""),u=Object(s.a)(l,2),j=u[0],b=u[1],h=Object(o.useState)(!1),m=Object(s.a)(h,2),O=m[0],x=m[1],f=Object(o.useState)("add__icon_container"),_=Object(s.a)(f,2),p=_[0],g=_[1],v=t.filter((function(e){return!!e.complete})).length,T=t.length,N=[];N=!j.length>=1?t:t.filter((function(e){var t=e.text.toLowerCase(),n=j.toLowerCase();return t.includes(n)}));var y=matchMedia("(min-width: 320px)"),C=matchMedia("(max-width: 500px)");return{loading:a,loadReziserHeader:function(){return y.matches^C.matches?y.matches?500:C.matches?320:void 0:window.innerWidth},searchValue:j,onSearchValueChange:function(e){console.log(e.target.value),b(e.target.value)},loadReziserCounter:function(){return y.matches^C.matches?y.matches?410:C.matches?230:void 0:window.innerWidth-90},totalTodos:T,completedTodos:v,loadReziserList:function(){return y.matches^C.matches?y.matches?410:C.matches?230:void 0:window.innerWidth-90},searchedTodos:N,completeTodo:function(e){var o=t.findIndex((function(t){return t.text===e})),a=Object(r.a)(t);a[o].complete=!0,n(a)},deleteTodo:function(e){var o=t.findIndex((function(t){return t.text===e})),a=Object(r.a)(t);a.splice(o,1),n(a)},addTodo:function(e){var o=Object(r.a)(t);return o.some((function(t){return e===t.text}))?(console.log("no se puede a\xf1adir el todo porque hay uno igual"),!0):(o.unshift({text:e,completed:!1}),n(o),x(!1),g("add__icon_container"),!1)},openModal:O,setOpenModal:x,rotateAdd:p,setRotateAdd:g,error:c,onClickTodoButton:function(){x((function(e){return!e})),g("add__icon_container"===p?"add__icon_container-active":"add__icon_container")},sincronizeTodos:d,reloadTodos:i}}n(15);var d=n(0);function l(e){return Object(d.jsx)("header",{className:"header",children:e.loading?e.onLoading():e.onHeaderReady()})}n(17);function u(e){var t=e.searchValue,n=e.onSearchValueChange;return Object(d.jsx)("input",{className:"TodoSearch",placeholder:"Encuentra un ToDo :)",value:t,onChange:n})}n(18);function j(){return Object(d.jsx)("div",{className:"todo__logo"})}var b=n(3),h=n(5);function m(e){var t=Object(o.useState)(e.ancho),n=Object(s.a)(t,1)[0];return Object(d.jsx)(h.a,Object(b.a)(Object(b.a)({speed:.5,width:n,height:80,backgroundColor:"#243441",foregroundColor:"#3d4b56"},e),{},{children:Object(d.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"500",height:"80"})}))}function O(e){var t=Object(o.useState)(e.ancho),n=Object(s.a)(t,1)[0];return Object(d.jsx)(h.a,Object(b.a)(Object(b.a)({speed:.5,width:n,height:60,backgroundColor:"#243441",foregroundColor:"#3d4b56"},e),{},{children:Object(d.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"410",height:"60"})}))}function x(e){var t=Object(o.useState)(e.ancho),n=Object(s.a)(t,1)[0],a=Object(o.useState)(e.alto),c=Object(s.a)(a,1)[0];return Object(d.jsx)(h.a,Object(b.a)(Object(b.a)({speed:.5,width:n,height:c,backgroundColor:"#243441",foregroundColor:"#3d4b56"},e),{},{children:Object(d.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"410",height:"1024"})}))}function f(e){return Object(d.jsx)(h.a,Object(b.a)(Object(b.a)({speed:.5,width:40,height:40,backgroundColor:"#243441",foregroundColor:"#3d4b56"},e),{},{children:Object(d.jsx)("circle",{cx:"20",cy:"20",r:"20"})}))}n(19);function _(e){return Object(d.jsx)("section",{className:"counter__container",children:e.loading?e.onLoading():e.totalTodos?e.onCounterReady():e.onEmpty()})}n(20);function p(e){return Object(d.jsxs)("main",{className:"main__container",children:[Object(d.jsxs)("section",{className:e.loading?"list__container app-loading":"list__container app-ready",children:[e.loading&&e.onLoading(window.innerHeight-160),e.error&&e.onError(),!e.loading&&!e.totalTodos&&e.onEmpty(),!e.searchedTodos.length&&e.totalTodos&&e.searchValue?e.onNotFound():e.onClean(),Object(d.jsx)("ul",{children:e.searchedTodos.map(e.render)})]}),e.children]})}n(21);function g(e){var t=e.value,n=e.clean,o=[{state:"error",icon:"icon-error",title:"Upss",text:"Ha ocurrido un Error, por favor revise su conexi\xf3n y recargue la app."},{state:"empty",icon:"icon-empty",title:"Hola",text:"Parece que no tienes tareas, \xbfte gustar\xeda a\xf1adir una?"},{state:"notfound",icon:"icon-notfound",title:"Nada",text:"Parece que el ToDo no est\xe1, prueba con otra palabra que creas que coincide."},{state:"clean",icon:"",title:"",text:""}];return Object(d.jsxs)("div",{className:n?"display-off":"state__container",children:[Object(d.jsx)("div",{className:o[t].icon}),Object(d.jsx)("h3",{className:"state__container_title",children:o[t].title}),Object(d.jsx)("p",{className:"state__container_text",children:o[t].text})]})}n(22);function v(e){var t=e.typeIcon;return Object(d.jsx)("div",{className:"icon_style ".concat(function(){switch(t){case"Trash":return"icon-trash";case"Trash_open":return"icon-trash_open";case"Add":return"icon-add";case"Check":return"icon-check";default:return"empty"}}())})}n(23);function T(e){var t=Object(o.useState)("Trash"),n=Object(s.a)(t,2),a=n[0],c=n[1];return Object(d.jsxs)("li",{className:"todo-item",children:[Object(d.jsx)("div",{title:"Click para eliminar la tarea",className:"item__icon-close",onClick:e.onDelete,onMouseOver:function(){return c("Trash_open")},onMouseLeave:function(){return c("Trash")},children:Object(d.jsx)(v,{typeIcon:a})}),Object(d.jsx)("div",{title:"Click para marcar como completada",className:"item__icon_task ".concat(e.completed&&"task-completed"),onClick:e.onComplete,children:Object(d.jsx)(v,{typeIcon:"".concat(e.completed&&"Check")})}),Object(d.jsx)("p",{className:"item__text ".concat(e.completed&&"text-completed"),children:e.text})]})}n(24);function N(e){return Object(d.jsx)("button",{className:"add__todo",onClick:e.onClickTodoButton,children:e.loading?e.onLoading():e.onButtonReady()})}function y(e){return c.a.createPortal(Object(d.jsx)(d.Fragment,{children:e.onShowModal()}),document.getElementById("modal"))}n(25);function C(e){var t=e.addTodo,n=e.setOpenModal,a=e.setRotateAdd,c=Object(o.useState)(""),r=Object(s.a)(c,2),i=r[0],l=r[1],u=Object(o.useState)("\xbfTienes algo m\xe1s que hacer?"),j=Object(s.a)(u,2),b=j[0],h=j[1];return Object(d.jsx)("div",{className:"modal",children:Object(d.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),""===i)?h("Por favor no dejes ToDos en blanco ;) esto no es el tetris"):t(i)&&(l(""),h("Ya tienes un ToDo igual a ese, escribe uno nuevo o busca el viejo ;)"))},className:"modal__form",children:[Object(d.jsx)("label",{className:"modal__form_label",children:"\xa1A\xf1ade una nueva tarea!"}),Object(d.jsx)("textarea",{className:"modal__form_textarea",value:i,placeholder:b,onChange:function(e){l(e.target.value)}}),Object(d.jsxs)("div",{className:"modal__button_container",children:[Object(d.jsx)("button",{className:"button modal__button-cancel",type:"button",onClick:function(){n(!1),a("add__icon_container")},children:"Cancelar"}),Object(d.jsx)("button",{className:"button modal__button-add",type:"submit",children:"A\xf1adir"})]})]})})}n(26);var S,w=(S=function(e){var t=e.show,n=e.toggleShow;return t?Object(d.jsx)("div",{className:"modal",children:Object(d.jsxs)("div",{className:"modal__form",children:[Object(d.jsx)("p",{className:"modal__form_label modal__reload_text",children:"Al parecer hubo cambios en la app desde otra ventana o pesta\xf1a del navegador. Necesitas Recargar la app para traer esos cambios."}),Object(d.jsx)("button",{className:"button modal__button-cancel",onClick:function(){return n(!1)},children:"Recargar"})]})}):null},function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),a=n[0],c=n[1];return window.addEventListener("storage",(function(e){"TODOs_V1"===e.key&&(console.log("Hubo cambios en TODOs_V1"),c(!0))})),Object(d.jsx)(S,{show:a,toggleShow:function(){e.reload(),c(!1)}})});function k(){var e=i(),t=e.loading,n=e.error,o=e.loadReziserHeader,a=e.searchValue,c=e.onSearchValueChange,r=e.totalTodos,s=e.loadReziserCounter,b=e.completedTodos,h=e.loadReziserList,S=e.searchedTodos,k=e.completeTodo,R=e.deleteTodo,L=e.addTodo,I=e.openModal,M=e.setOpenModal,V=e.rotateAdd,E=e.setRotateAdd,A=e.onClickTodoButton,z=e.sincronizeTodos,D=e.reloadTodos;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l,{loading:t,onLoading:function(){return Object(d.jsx)("div",{className:"loading__header",children:Object(d.jsx)(m,{ancho:o()})})},onHeaderReady:function(){return Object(d.jsxs)(d.Fragment,{children:["  ",Object(d.jsx)(j,{}),Object(d.jsx)(u,{searchValue:a,onSearchValueChange:c})]})}}),Object(d.jsx)(_,{loading:t,totalTodos:r,onLoading:function(){return Object(d.jsx)("div",{className:"loading__counter",children:Object(d.jsx)(O,{ancho:s()})})},onEmpty:function(){return Object(d.jsx)("h2",{className:"counter__text",children:"No tienes tareas a\xfan :)"})},onCounterReady:function(){return Object(d.jsxs)("h2",{className:"counter__text",children:["Has completado ",Object(d.jsxs)("span",{className:"counter__text-completed",children:[b," "]}),"de ",Object(d.jsx)("span",{className:"counter__text-total",children:r})]})}}),Object(d.jsx)(p,{loading:t,error:n,searchValue:a,searchedTodos:S,totalTodos:r,onLoading:function(e){return Object(d.jsx)("div",{className:"loading__list",children:Object(d.jsx)(x,{ancho:h(),alto:e})})},onError:function(){return Object(d.jsx)(g,{value:0,clean:!1})},onEmpty:function(){return Object(d.jsx)(g,{value:1,clean:!1})},onNotFound:function(){return Object(d.jsx)(g,{value:2,clean:!1})},onClean:function(){return Object(d.jsx)(g,{value:3,clean:!0})},render:function(e){return Object(d.jsx)(T,{text:e.text,completed:e.complete,onComplete:function(){return k(e.text)},onDelete:function(){return R(e.text)}},e.text)},children:Object(d.jsx)(N,{loading:t,onClickTodoButton:A,onLoading:function(){return Object(d.jsx)("div",{className:"loading__btn",children:Object(d.jsx)(f,{})})},onButtonReady:function(){return Object(d.jsx)("span",{className:V,children:Object(d.jsx)(v,{typeIcon:"Add"})})}})}),I&&!t&&Object(d.jsx)(y,{onShowModal:function(){return Object(d.jsx)(C,{addTodo:L,setOpenModal:M,setRotateAdd:E})}}),D&&Object(d.jsx)(y,{onShowModal:function(){return Object(d.jsx)(w,{reload:z})}})]})}c.a.render(Object(d.jsx)(k,{}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.4d063981.chunk.js.map